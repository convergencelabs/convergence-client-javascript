{"version":3,"file":"ProtocolConnection.js","sourceRoot":"","sources":["ProtocolConnection.ts"],"names":["convergence","convergence.connection","convergence.connection.ProtocolConnection","convergence.connection.ProtocolConnection.constructor","convergence.connection.ProtocolConnection.constructor.onMessage","convergence.connection.ProtocolConnection.constructor.onError","convergence.connection.ProtocolConnection.constructor.onClose","convergence.connection.ProtocolConnection.connect","convergence.connection.ProtocolConnection.handshake","sendPing","onTimeout","if","ReplyCallbackImpl","ReplyCallbackImpl.constructor","ReplyCallbackImpl.reply","ReplyCallbackImpl.unknownError","ReplyCallbackImpl.unexpectedError","ReplyCallbackImpl.expectedError"],"mappings":"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"}